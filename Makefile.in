APP = pdfresurrect
MANPAGE = pdfresurrect.1
OBJS = main.o pdf.o
CC = @CC@
CFLAGS = @CFLAGS@
PREFIX = @prefix@

all: $(OBJS) $(APP)

$(APP): $(OBJS)
	$(CC) -o $@ $(OBJS) $(CFLAGS)

%.o: %.c
	$(CC) -o $@ -c $< $(CFLAGS)

install:
	cp $(APP) $(PREFIX)/bin/
	cp $(MANPAGE) $(PREFIX)/man/man1/

uninstall:
	rm $(PREFIX)/bin/$(APP)
	rm $(PREFIX)/man/man1/$(MANPAGE)

clean:
	rm -rfv $(OBJS) $(APP)

distclean: clean
	rm -f Makefile
	rm -f config.log config.status

.PHONY: install uninstall clean distclean
